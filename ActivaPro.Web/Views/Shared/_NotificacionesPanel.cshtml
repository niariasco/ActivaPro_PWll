@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer L

<div class="notif-wrapper">
    <button type="button"
            class="btn btn-link p-0 notif-bell-btn"
            title="@L["NotifTitle"]"
            onclick="document.getElementById('notif-dropdown').classList.toggle('show')">
        <span class="position-relative">
            <i class="bi bi-bell fs-4 notif-bell-icon"></i>
            <span id="notif-count"
                  class="badge notif-count-badge position-absolute top-0 start-100 translate-middle">0</span>
        </span>
    </button>

    <div id="notif-dropdown" class="notif-dropdown">
        <ul id="notif-list" class="list-unstyled m-0 p-2"></ul>
        <div id="notif-empty"
             class="px-3 pb-3 text-light-50"
             style="display:none;">
            @L["NotifEmpty"]
        </div>
    </div>
</div>


<style>
    .notif-wrapper { position:relative; }
    .notif-bell-btn { line-height:1; }
    .notif-bell-icon { color:#f8f9fa; } /* campana blanca */
    .notif-count-badge {
        background:#6c757d;
        color:#fff;
        font-size:.65rem;
    }
    .notif-dropdown {
        display:none;
        position:absolute;
        right:0;
        top:115%;
        width:360px;
        /* Quitar fondo blanco -> usar mismo color navbar y sin caja que expanda */
        background:#1E4E8C;
        border:1px solid #143763;
        border-radius:8px;
        box-shadow:0 4px 14px rgba(0,0,0,.35);
        max-height:420px;
        overflow:auto;
        z-index:1500;
    }
    .notif-dropdown.show { display:block; }
    .notif-item {
        padding:.6rem .7rem .7rem;
        border-bottom:1px solid rgba(255,255,255,.15);
        font-size:.82rem;
        color:#fff;
        transition:background-color .25s;
    }
    .notif-item.unread { background:#1E569C; border-left:4px solid #ffffff; }
    .notif-item.read { background:#1E4E8C; opacity:.85; border-left:4px solid #6c757d; }
    .notif-item:last-child { border-bottom:none; }
    .notif-item small { color:#d9e3ef; }
    .notif-item .badge {
        font-size:.55rem;
        letter-spacing:.5px;
    }
    .badge.notif-badge-blue { background:#0d6efd; }
    .badge.notif-badge-gray { background:#6c757d; }
    .notif-btn-mark, .notif-btn-ticket {
        --bs-btn-color:#fff;
        --bs-btn-border-color:#fff;
        --bs-btn-hover-bg:#143763;
        --bs-btn-hover-border-color:#ffffff;
        font-size:.7rem;
        padding:.25rem .5rem;
    }
</style>